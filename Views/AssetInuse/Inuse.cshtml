<!DOCTYPE html>
<html lang="en">
<head>
  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <title>Asset - In use</title>
  
</head>
<body class="sb-nav-fixed">
   
            <main>
                <div class="container-fluid">
                    
                    <ol class="breadcrumb mb-4">
                        <li class="breadcrumb-item"><a href="~/Home/Index">Asset</a></li>
                        <li class="breadcrumb-item active">In use</li>
                    </ol>
                    
                    <div class="card mb-12">
                        <div class="card-header">
                            <div class="row">
                                <div class="col-md-11">
                                    <i class="fa fa-briefcase "></i>
                                    &nbsp; Asset Info (In Use)
                                </div>
                                <div class="col-md-1">
                                    <a value="New" class="btn btn-primary" style="width: 100%; font-size: small" href="~/AssetInuse/NewAsset"><i class="fas fa-plus-circle"></i>&nbsp;  New</a>

                                </div>
                            </div>
                            

                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered nowrap" id="AssetHeaderTable" width="100%" cellspacing="0">
                                    <thead>



                                    </thead>

                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

<script>

    $(document).ready(function () {


        $('#AssetHeaderTable').DataTable({
            ajax: {
                url: "http://localhost:53990/api/GetAlll",
                type: "get",
                dataSrc: ''
            },
            columns: [
            {
                data: 'ID',
                render: function(data, type, row) {
                    return '<div align="center"><a href="http://localhost:53990/AssetInuse/Edit/' + data + '"><i class="far fa-edit fa-2x"></i></a></div>';

                },
                width: '30px'

            },
            { data: "ItemID", title: "Asset Code", width: '200px' },
            { data: "NameTH", title: "Asset Name", width: '400px' },
            { data: "NameEN", title: "Description", width: '400px' },
            { data: "CompanyID", title: "Campus in Dynamics"},
                { data: "OwnerID", title: "Owner" },
                { data: "CostCenter", title: "Cost Center" },
                { data: "Building", title: "Building" },
                { data: "Floor", title: "Floor" },
                {
                    data: "PurchaseDate", title: "Purchase Date",
                    render: function (data) {
                        if (data !== null) {
                            var date = new Date(data);
                            var month = date.getMonth() + 1;
                            return (month.toString().length > 1 ? month : "0" + month) + "/" + date.getDate() + "/" + date.getFullYear();
                        }
                        return null;
                    }
                },
                {
                    data: "ExpireDate", title: "Expire Date",
                    render: function (data) {
                        if (data !== null) {
                            var date = new Date(data);
                            var month = date.getMonth() + 1;
                            return (month.toString().length > 1 ? month : "0" + month) + "/" + date.getDate() + "/" + date.getFullYear();
                        }
                        return null;
                    }
                    
                },
                {
                    data: "WarrantyDate", title: "Warranty Date",
                    render: function (data) {
                        if (data !== null) {
                            var date = new Date(data);
                            var month = date.getMonth() + 1;
                            return (month.toString().length > 1 ? month : "0" + month) + "/" + date.getDate() + "/" + date.getFullYear();
                        }
                        return null;
                    }
                },
                {
                    data: "NextServiceDate", title: "Next Service Date",
                    render: function (data) {
                        if (data !== null) {
                            var date = new Date(data);
                            var month = date.getMonth() + 1;
                            return (month.toString().length > 1 ? month : "0" + month) + "/" + date.getDate() + "/" + date.getFullYear();
                        }
                        return null;
                    }
                },
                {
                    data: "DisposalDate", title: "Disposal Date",
                    render: function (data) {
                        if (data !== null) {
                            var date = new Date(data);
                            var month = date.getMonth() + 1;
                            return (month.toString().length > 1 ? month : "0" + month) + "/" + date.getDate() + "/" + date.getFullYear();
                        }
                        return null;
                    }
                },
                { data: "IsInsured", title: "Insured", render: function (data, type, row) {
                    if (type === 'display') {
                        return '<div align="center"><input type="checkbox"></div>';
                    }
                    return data;
                }, width: '30px'
                },
                {
                    data: "IsUnderMaintenance", title: "Under Maintenance", render: function (data, type, row) {
                        if (type === 'display') {
                            return '<div align="center"><input type="checkbox"></div>';
                        }
                        return data;
                    }, width: '30px'
                }

            ],
            select: true,
            dom: "Bfrtip",

            buttons: [
                //{
                //    text: "New"


                //},
                { extend: "excel"   }

            ],
            scrollX: true,
        });

        $.fn.dataTable.ext.errMode = 'throw';
    });
</script>   
</body>


</html>
